# ============================================
# セキュリティ設定ファイル（環境変数）
# ============================================
#
# 使い方:
# 1. このファイルを `.env` にコピー
# 2. 各設定値を本番環境に合わせて変更
# 3. `.env` ファイルは絶対に Git にコミットしない
#
# 注意: このファイルはサンプルです。実際の値は含まれていません。

# ===== 環境設定 =====

# 環境モード（development / production）
FLASK_ENV=development

# デバッグモード（本番環境では必ず false に設定）
FLASK_DEBUG=true

# ===== サーバー設定 =====

# ポート番号
PORT=5000

# ホスト（本番環境では 0.0.0.0、開発環境では 127.0.0.1 推奨）
HOST=0.0.0.0

# ===== セキュリティ設定 =====

# セッション秘密鍵（ランダムな長い文字列を生成してください）
# 生成例: python3 -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here-change-this-in-production

# CSRF トークン有効期限（秒）
CSRF_TOKEN_EXPIRY=3600

# セッション有効期限（日）
SESSION_MAX_AGE_DAYS=30

# ===== レート制限設定 =====

# 認証APIのレート制限（登録・ログイン）
AUTH_RATE_LIMIT_REQUESTS=5
AUTH_RATE_LIMIT_WINDOW=300

# 一般APIのレート制限
API_RATE_LIMIT_REQUESTS=100
API_RATE_LIMIT_WINDOW=60

# ===== CORS設定 =====

# 許可するオリジン（カンマ区切り）
# 開発環境: http://localhost:5173,http://localhost:3000
# 本番環境: https://yourdomain.com
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ===== データベース設定 =====

# データベースパス
DATABASE_PATH=backend/alpha_auth.db

# ===== ログ設定 =====

# セキュリティイベントログの出力レベル
# DEBUG / INFO / WARNING / ERROR / CRITICAL
LOG_LEVEL=INFO

# ログファイルパス（空欄の場合は標準出力のみ）
LOG_FILE=

# ===== 開発者モード設定 =====

# 開発者モードの有効化（本番環境では必ず false に設定）
DEV_MODE_ENABLED=true

# 開発者トークン（本番環境では削除または無効化）
DEV_TOKEN=dev

# ===== パスワードハッシュ設定 =====

# パスワードハッシュアルゴリズム（sha256 / bcrypt）
PASSWORD_HASH_ALGORITHM=sha256

# bcrypt の場合のラウンド数（推奨: 12-14）
BCRYPT_ROUNDS=12

# ===== HTTPS設定 =====

# HTTPS強制（本番環境では true 推奨）
FORCE_HTTPS=false

# HTTPS証明書パス（カスタム証明書を使用する場合）
SSL_CERT_PATH=
SSL_KEY_PATH=

# ===== Content Security Policy (CSP) 設定 =====

# CSPの厳格度（strict / moderate / relaxed）
CSP_MODE=moderate

# 追加で許可するドメイン（カンマ区切り）
CSP_ALLOWED_DOMAINS=

# ===== セキュリティヘッダー設定 =====

# X-Frame-Options（DENY / SAMEORIGIN / ALLOW-FROM uri）
X_FRAME_OPTIONS=DENY

# Strict-Transport-Security の max-age（秒）
HSTS_MAX_AGE=31536000

# ===== 監視・アラート設定 =====

# 異常検知の閾値
ANOMALY_DETECTION_THRESHOLD=10

# セキュリティイベント通知先メールアドレス
SECURITY_ALERT_EMAIL=

# Slack Webhook URL（アラート通知用）
SLACK_WEBHOOK_URL=

# ===== バックアップ設定 =====

# データベースバックアップの有効化
BACKUP_ENABLED=true

# バックアップ間隔（時間）
BACKUP_INTERVAL_HOURS=24

# バックアップ保持期間（日）
BACKUP_RETENTION_DAYS=30
